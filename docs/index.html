<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>dsi-p6</title><meta name="description" content="Documentation for dsi-p6"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">dsi-p6</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> dsi-p6</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#práctica-6---clases-e-interfaces-genéricas-principios-solid" id="práctica-6---clases-e-interfaces-genéricas-principios-solid" style="color: inherit; text-decoration: none;">
  <h1>Práctica 6 - Clases e interfaces genéricas. Principios SOLID.</h1>
</a>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101348421?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101348421/badge.svg?branch=main" alt="Coverage Status"></a></p>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h1>Introducción</h1>
</a>
<p>Esta práctica consiste en una serie de ejercicios que nos servirán para manejarnos mejor con las clases e interfaces genéricas y para poder aplicar los Principios SOLID.</p>
<p>Las clases y interfaces genéricas son una forma de crear estos elementos pero que nos permiten reutilizar código y que nos permiten crear una estructura de datos más flexible y reutilizable.</p>
<p>Por otro lado, los Principios SOLID son un conjunto de principios orientados a objetos que nos permiten aplicar una política de diseño a nuestros programas.</p>
<p>Estos principios son:</p>
<ul>
<li>Single responsibility principle: Una clase debe tener una sola responsabilidad.</li>
<li>Open/closed principle: Una clase debe ser abierta a la extensión y cerrada a la modificación.</li>
<li>Liskov substitution principle: Una clase debe ser sustituible por sus subclases.</li>
<li>Interface segregation principle: Sugiere que es mejor separar interfaces de clases teniendo una gran cantidad de estas que menos interfaces que sean complejas.</li>
<li>Dependency inversion principle: Una clase debe ser fruto de la abstracción y no de la implementación.</li>
</ul>

<a href="#istanbul---coveralls" id="istanbul---coveralls" style="color: inherit; text-decoration: none;">
  <h2>Istanbul - Coveralls</h2>
</a>
<p>En esta práctica, además de lo que hemos hablado en la introducción, también nos servirá para acostumbrarnos a usar herramientas como Istanbul/nyc o Coveralls para poder hacer un seguimiento de nuestros cambios y asegurarnos de que los test que hemos realizado son correctos y comprenden todas las líneas de código.</p>
<p>Istanbul es la herramienta que nos permitirá hacer este control de la cobertura de nuestro código.</p>
<p>A continuación, una muestra de como se ve el uso de Istanbul:</p>
<pre><code><span class="hl-0">---------------------------------|---------|----------|---------|---------|-------------------</span><br/><span class="hl-1">File</span><span class="hl-0">                             | % </span><span class="hl-1">Stmts</span><span class="hl-0"> | % </span><span class="hl-1">Branch</span><span class="hl-0"> | % </span><span class="hl-1">Funcs</span><span class="hl-0"> | % </span><span class="hl-1">Lines</span><span class="hl-0"> | </span><span class="hl-1">Uncovered</span><span class="hl-0"> </span><span class="hl-1">Line</span><span class="hl-0"> #</span><span class="hl-1">s</span><span class="hl-0"> </span><br/><span class="hl-0">---------------------------------|---------|----------|---------|---------|-------------------</span><br/><span class="hl-1">All</span><span class="hl-0"> </span><span class="hl-1">files</span><span class="hl-0">                        |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0"> </span><span class="hl-1">Ejercicio</span><span class="hl-0">-</span><span class="hl-2">01</span><span class="hl-0">                    |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">Combat</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                      |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">Fighter</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                     |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">Pokedex</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                     |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">Pokemon</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                     |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-3">SAO</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                         |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">Saiyan</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                      |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0"> </span><span class="hl-1">Ejercicio</span><span class="hl-0">-</span><span class="hl-2">02</span><span class="hl-0">                    |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">BasicStreamableCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">   |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">DocumentalsCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">       |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">FilmsCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">             |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">SeriesCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">            |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">audiovisual</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                 |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0"> </span><span class="hl-1">Ejercicio</span><span class="hl-0">-</span><span class="hl-2">03</span><span class="hl-0">                    |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">Cifrado</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">                     |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0"> </span><span class="hl-1">Ejercicio</span><span class="hl-0">-</span><span class="hl-2">04</span><span class="hl-0">                    |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">NumericSearchableCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">SearchableCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">        |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">  </span><span class="hl-1">StringSearchableCollection</span><span class="hl-0">.</span><span class="hl-1">ts</span><span class="hl-0">  |     </span><span class="hl-2">100</span><span class="hl-0"> |      </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |     </span><span class="hl-2">100</span><span class="hl-0"> |                   </span><br/><span class="hl-0">---------------------------------|---------|----------|---------|---------|-------------------</span>
</code></pre>
<p>Como podemos ver, nos analiza el porcentaje de código que ha sido ejecutado y especifíca las ramas y líneas que no han sido ejecutadas.</p>
<p>Por otro lado, Coveralls es el servicio web que nos permite revisar este seguimiento a lo largo del tiempo para ver como ha evolucionado nuestro código y nos permite compartir estos datos.</p>

<a href="#ejercicios" id="ejercicios" style="color: inherit; text-decoration: none;">
  <h1>Ejercicios</h1>
</a>

<a href="#ejercicio-1---el-combate-definitivo" id="ejercicio-1---el-combate-definitivo" style="color: inherit; text-decoration: none;">
  <h2>Ejercicio 1 - El combate definitivo</h2>
</a>
<p>En este ejercicio vamos a aprovechar la idea de combate de la práctica anterior y vamos a expandirlo a diferentes universos.</p>
<p>En primer lugar, vamos a definir una clase abstracta <code>fighter</code> que nos permitirá crear los tipos de personajes que vamos a usar en nuestra aplicación.</p>
<p>Un personaje, para que sea válido debe tener algunos datos básicos como nombre, peso, altura, ataque, defensa, puntos de vida y un conjunto de frases que usa el personaje en cuestión.</p>
<p>Por otro lado, para que nuestros personajes sean capaces de combatir, deben tener un método <code>getDamage</code> que nos permita calcular el daño que recibirá un adversario en función de los atributos del personaje.</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">abstract</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">fighter</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">name</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">weight</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">height</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">attack</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">defense</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">hp</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">protected</span><span class="hl-0"> </span><span class="hl-1">catchingPhrases</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">[];</span><br/><br/><span class="hl-0">  </span><span class="hl-5">constructor</span><span class="hl-0">(</span><span class="hl-1">name</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">, </span><span class="hl-1">weight</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">, </span><span class="hl-1">height</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">attack</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">, </span><span class="hl-1">defense</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">, </span><span class="hl-1">hp</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">,</span><br/><span class="hl-0">      ...</span><span class="hl-1">catchingPhrases</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">[]) {</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">name</span><span class="hl-0"> = </span><span class="hl-1">name</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">weight</span><span class="hl-0"> = </span><span class="hl-1">weight</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">height</span><span class="hl-0"> = </span><span class="hl-1">height</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">attack</span><span class="hl-0"> = </span><span class="hl-1">attack</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">defense</span><span class="hl-0"> = </span><span class="hl-1">defense</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">hp</span><span class="hl-0"> = </span><span class="hl-1">hp</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">catchingPhrases</span><span class="hl-0"> = </span><span class="hl-1">catchingPhrases</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  (...)</span><br/><br/><span class="hl-0">  </span><span class="hl-5">abstract</span><span class="hl-0"> </span><span class="hl-7">getDamage</span><span class="hl-0">(</span><span class="hl-1">enemy</span><span class="hl-0">: </span><span class="hl-6">fighter</span><span class="hl-0">): </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code></pre>
<p>En mi caso, los universos son:</p>
<ul>
<li>Pokémon</li>
<li>Dragon Ball</li>
<li>Sword Art Online</li>
</ul>
<p>Estos universos tendrán sus particularidades y deberán adaptar su lógica de combate a las necesidades de cada uno.</p>
<p>En el caso de los Pokémon, a los atributos se les añadirán la velocidad y el tipo.
Aprovechándonos de lo aprendido en la práctica anterior, el daño se calculará en función a la efectividad de los tipos si nos enfrentamos a otro pokemon, o con una fórmula estándar si nos enfrentamos a otro tipo de adversario.</p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">getDamage</span><span class="hl-0">(</span><span class="hl-1">enemy</span><span class="hl-0">: </span><span class="hl-1">fighter</span><span class="hl-0">): </span><span class="hl-1">number</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">enemy</span><span class="hl-0"> </span><span class="hl-5">instanceof</span><span class="hl-0"> </span><span class="hl-6">Pokemon</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-2">50</span><span class="hl-0"> * (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">attack</span><span class="hl-0"> / </span><span class="hl-1">enemy</span><span class="hl-0">.</span><span class="hl-7">getDefense</span><span class="hl-0">()) *</span><br/><span class="hl-0">          </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-7">effectiveness</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">type</span><span class="hl-0">, </span><span class="hl-1">enemy</span><span class="hl-0">.</span><span class="hl-1">type</span><span class="hl-0">);</span><br/><span class="hl-0">    } </span><span class="hl-4">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-2">50</span><span class="hl-0"> * (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">attack</span><span class="hl-0"> / </span><span class="hl-1">enemy</span><span class="hl-0">.</span><span class="hl-7">getDefense</span><span class="hl-0">());</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Para el universo Dragon Ball, los atributos extra serán el poder del peleador y el lvl (referencia a nivel de evolución) del mismo.</p>
<p>El daño es indiferente del tipo del rival, ya que los saiyan no tienen compasión.</p>
<p>En este caso, el daño sigue la siguiente ecuación:</p>
<p><code>((Poder / 10) * Lvl * Ataque) / Defensa del rival</code></p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">getDamage</span><span class="hl-0">(</span><span class="hl-1">enemy</span><span class="hl-0">: </span><span class="hl-1">fighter</span><span class="hl-0">): </span><span class="hl-1">number</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> ((</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">power</span><span class="hl-0"> / </span><span class="hl-2">10</span><span class="hl-0">) * </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">lvl</span><span class="hl-0"> * </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">attack</span><span class="hl-0">) / </span><span class="hl-1">enemy</span><span class="hl-0">.</span><span class="hl-7">getDefense</span><span class="hl-0">();</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>El universo final es Sword Art Online, un mundo virtual de MMORPG en el que cada personaje tiene un tipo y un arma nivelada.</p>
<p>Dependiendo del tipo del personaje, se aplicarán unos multiplicadores a su ataque que comenzará desde la mitad de su ataque real.</p>
<p>Con este ataque calculado, la fórmula que retornará el daño será:
<code>50 * ataque * LVLArma / Defensa</code></p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">getDamage</span><span class="hl-0">(</span><span class="hl-1">enemy</span><span class="hl-0">: </span><span class="hl-1">fighter</span><span class="hl-0">): </span><span class="hl-1">number</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">attack</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">attack</span><span class="hl-0"> / </span><span class="hl-2">2</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Sniper&#39;</span><span class="hl-0"> || </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Slayer&#39;</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">attack</span><span class="hl-0"> *= </span><span class="hl-2">2</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Swordsman&#39;</span><span class="hl-0"> || </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Ninja&#39;</span><span class="hl-0"> ||</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Samurai&#39;</span><span class="hl-0"> || </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Monk&#39;</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">attack</span><span class="hl-0"> *= </span><span class="hl-2">1.2</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Gunner&#39;</span><span class="hl-0"> || </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">playerType</span><span class="hl-0"> === </span><span class="hl-8">&#39;Berserker&#39;</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">attack</span><span class="hl-0"> *= </span><span class="hl-2">1.5</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-2">50</span><span class="hl-0"> * </span><span class="hl-1">attack</span><span class="hl-0"> * </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">weaponLevel</span><span class="hl-0"> / </span><span class="hl-1">enemy</span><span class="hl-0">.</span><span class="hl-7">getDefense</span><span class="hl-0">();</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Con todos nuestros universos creados, el siguiente paso será definir nuestra Pokedex universal</p>
<p>Esta contendrá una lista específica para cada universo y se le podrán añadir nuevos luchadores ademas de poder obtenerlos según su nombre.</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Pokedex</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-1">PokemonList</span><span class="hl-0">: </span><span class="hl-6">Pokemon</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-1">SAOList</span><span class="hl-0">: </span><span class="hl-6">SwordArtOnline</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-1">SaiyanList</span><span class="hl-0">: </span><span class="hl-6">Saiyan</span><span class="hl-0">[];</span><br/><br/><span class="hl-0">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * Constructor</span><br/><span class="hl-9">   */</span><br/><span class="hl-0">  </span><span class="hl-5">constructor</span><span class="hl-0">() {</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">PokemonList</span><span class="hl-0"> = [];</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SAOList</span><span class="hl-0"> = [];</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SaiyanList</span><span class="hl-0"> = [];</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * Método que permite añadir un luchador a su lista correspondiente</span><br/><span class="hl-9">   * </span><span class="hl-5">@param</span><span class="hl-9"> </span><span class="hl-1">fighter</span><span class="hl-9"> {fighter} Luchador a añadir</span><br/><span class="hl-9">   */</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">addFighter</span><span class="hl-0">(</span><span class="hl-1">fighter</span><span class="hl-0">: </span><span class="hl-6">fighter</span><span class="hl-0">): </span><span class="hl-6">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">fighter</span><span class="hl-0"> </span><span class="hl-5">instanceof</span><span class="hl-0"> </span><span class="hl-6">Pokemon</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">PokemonList</span><span class="hl-0">.</span><span class="hl-7">push</span><span class="hl-0">(</span><span class="hl-1">fighter</span><span class="hl-0">);</span><br/><span class="hl-0">    } </span><span class="hl-4">else</span><span class="hl-0"> </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">fighter</span><span class="hl-0"> </span><span class="hl-5">instanceof</span><span class="hl-0"> </span><span class="hl-6">SwordArtOnline</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SAOList</span><span class="hl-0">.</span><span class="hl-7">push</span><span class="hl-0">(</span><span class="hl-1">fighter</span><span class="hl-0">);</span><br/><span class="hl-0">    } </span><span class="hl-4">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SaiyanList</span><span class="hl-0">.</span><span class="hl-7">push</span><span class="hl-0">(</span><span class="hl-1">fighter</span><span class="hl-0"> </span><span class="hl-4">as</span><span class="hl-0"> </span><span class="hl-6">Saiyan</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * Método que devuelve un luchador a partir de su nombre</span><br/><span class="hl-9">   * </span><span class="hl-5">@param</span><span class="hl-9"> </span><span class="hl-1">name</span><span class="hl-9"> {string} Nombre del luchador</span><br/><span class="hl-9">   * </span><span class="hl-5">@returns</span><span class="hl-9"> </span><span class="hl-6">{fighter}</span><span class="hl-9"> Luchador</span><br/><span class="hl-9">   */</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">getFighter</span><span class="hl-0">(</span><span class="hl-1">name</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">): </span><span class="hl-6">fighter</span><span class="hl-0"> | </span><span class="hl-6">undefined</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">for</span><span class="hl-0"> (</span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">pokemon</span><span class="hl-0"> </span><span class="hl-5">of</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">PokemonList</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">pokemon</span><span class="hl-0">.</span><span class="hl-7">getName</span><span class="hl-0">() === </span><span class="hl-1">name</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-1">pokemon</span><span class="hl-0">;</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-4">for</span><span class="hl-0"> (</span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">sao</span><span class="hl-0"> </span><span class="hl-5">of</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SAOList</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">sao</span><span class="hl-0">.</span><span class="hl-7">getName</span><span class="hl-0">() === </span><span class="hl-1">name</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-1">sao</span><span class="hl-0">;</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-4">for</span><span class="hl-0"> (</span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">saiyan</span><span class="hl-0"> </span><span class="hl-5">of</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SaiyanList</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">saiyan</span><span class="hl-0">.</span><span class="hl-7">getName</span><span class="hl-0">() === </span><span class="hl-1">name</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-1">saiyan</span><span class="hl-0">;</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-9">/**</span><br/><span class="hl-9">   * Método que devuelve una lista con todos los luchadores</span><br/><span class="hl-9">   * </span><span class="hl-5">@returns</span><span class="hl-9"> </span><span class="hl-6">{fighter[]}</span><span class="hl-9"> Lista de luchadores</span><br/><span class="hl-9">   */</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">getAllFighters</span><span class="hl-0">(): </span><span class="hl-6">fighter</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">allFighters</span><span class="hl-0">: </span><span class="hl-6">fighter</span><span class="hl-0">[] = [];</span><br/><span class="hl-0">    </span><span class="hl-1">allFighters</span><span class="hl-0"> = </span><span class="hl-1">allFighters</span><span class="hl-0">.</span><span class="hl-7">concat</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">PokemonList</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">allFighters</span><span class="hl-0"> = </span><span class="hl-1">allFighters</span><span class="hl-0">.</span><span class="hl-7">concat</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SAOList</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">allFighters</span><span class="hl-0"> = </span><span class="hl-1">allFighters</span><span class="hl-0">.</span><span class="hl-7">concat</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">SaiyanList</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-1">allFighters</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Por último, nos faltará la clase que se encargará de gestionar el combate.</p>
<p>La clase combat se construirá por dos combatientes. El primero de ellos será el que iniciará cada turno y en cada turno se realizará el calculo del daño de cada uno y se evaluará un ganador.</p>
<p>Además, hay que tener en cuenta que cada combatiente, tras golpear, dirá una frase característica que se obtendrá mediante <code>getCatchingPhrase()</code></p>
<p>La lógica del combate será la siguiente:</p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">fight</span><span class="hl-0">(): [</span><span class="hl-1">fighter</span><span class="hl-0">, </span><span class="hl-1">string</span><span class="hl-0">] {</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">output</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0"> = </span><span class="hl-8">&#39;&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-3">damage1</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter1</span><span class="hl-0">.</span><span class="hl-7">getDamage</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter2</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-3">damage2</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter2</span><span class="hl-0">.</span><span class="hl-7">getDamage</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter1</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">hp1</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter1</span><span class="hl-0">.</span><span class="hl-7">getHP</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">hp2</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter2</span><span class="hl-0">.</span><span class="hl-7">getHP</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`--- </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> vs </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> ---</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> HP: </span><span class="hl-5">${</span><span class="hl-1">hp1</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> HP: </span><span class="hl-5">${</span><span class="hl-1">hp2</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`----------------------------------------------------------------</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">while</span><span class="hl-0"> (</span><span class="hl-5">true</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`--- Turno de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> ---</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">hp2</span><span class="hl-0"> -= </span><span class="hl-1">damage1</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getCatchingPhrase</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">hp2</span><span class="hl-0"> &lt;= </span><span class="hl-2">0</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> ha ganado la pelea</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-4">return</span><span class="hl-0"> [</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter1</span><span class="hl-0">, </span><span class="hl-1">output</span><span class="hl-0">];</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> HP: </span><span class="hl-5">${</span><span class="hl-1">hp1</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> HP: </span><span class="hl-5">${</span><span class="hl-1">hp2</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`----------------------------------------------------------------</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`--- Turno de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> ---</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">hp1</span><span class="hl-0"> -= </span><span class="hl-1">damage2</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getCatchingPhrase</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">hp1</span><span class="hl-0"> &lt;= </span><span class="hl-2">0</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> ha ganado la pelea</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-4">return</span><span class="hl-0"> [</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">fighter2</span><span class="hl-0">, </span><span class="hl-1">output</span><span class="hl-0">];</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter1</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> HP: </span><span class="hl-5">${</span><span class="hl-1">hp1</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-10">.</span><span class="hl-1">fighter2</span><span class="hl-10">.</span><span class="hl-7">getName</span><span class="hl-10">()</span><span class="hl-5">}</span><span class="hl-8"> HP: </span><span class="hl-5">${</span><span class="hl-1">hp2</span><span class="hl-5">}</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">output</span><span class="hl-0"> += </span><span class="hl-8">`----------------------------------------------------------------</span><span class="hl-11">\n</span><span class="hl-8">`</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Con esta función retornará dos valores, en primer lugar devolverá al ganador, y en segundo lugar una cadena que servirá como registro del combate, con los daños, puntos de vida, turnos y frases de cada combatiente.</p>

<a href="#ejercicio-2---dsiflix" id="ejercicio-2---dsiflix" style="color: inherit; text-decoration: none;">
  <h2>Ejercicio 2 - DSIflix</h2>
</a>
<p>Este ejercicio consiste en crear unas especies de videotecas que almacenen los datos de diferentes tipos de contenidos audiovisuales.</p>
<p>En primer lugar, debemos crear la interfaz Streamable, de la cuál saldrán estas colecciones.</p>
<p>Para ello, y para cumplir con el principio de Interface Segregation Principle, la interfaz <code>Streamable</code> se compone de dos interfaces denominadas <code>Collection</code> y <code>SearchableStream</code>. La primera se encarga de que los objetos puedan ser añadidos a una colección y la segunda de que los objetos puedan ser buscados dentro de la colección.</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">interface</span><span class="hl-0"> </span><span class="hl-6">Collection</span><span class="hl-0"> &lt;</span><span class="hl-6">T</span><span class="hl-0">&gt; {</span><br/><span class="hl-0">  </span><span class="hl-1">items</span><span class="hl-0">: </span><span class="hl-6">T</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-7">addItem</span><span class="hl-0">(</span><span class="hl-1">item</span><span class="hl-0">: </span><span class="hl-6">T</span><span class="hl-0">): </span><span class="hl-6">void</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-7">getItems</span><span class="hl-0">(): </span><span class="hl-6">T</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-7">getItem</span><span class="hl-0">(</span><span class="hl-1">index</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">): </span><span class="hl-6">T</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-7">removeItem</span><span class="hl-0">(</span><span class="hl-1">index</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">): </span><span class="hl-6">void</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-7">getNumberOfItems</span><span class="hl-0">(): </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">interface</span><span class="hl-0"> </span><span class="hl-6">SearchableStream</span><span class="hl-0"> &lt;</span><span class="hl-6">T</span><span class="hl-0">&gt; {</span><br/><span class="hl-0">  </span><span class="hl-7">searchByName</span><span class="hl-0">(</span><span class="hl-1">name</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">): </span><span class="hl-6">T</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-7">searchByYear</span><span class="hl-0">(</span><span class="hl-1">year</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">): </span><span class="hl-6">T</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-7">searchByGenre</span><span class="hl-0">(</span><span class="hl-1">genre</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">): </span><span class="hl-6">T</span><span class="hl-0">[];</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">interface</span><span class="hl-0"> </span><span class="hl-6">Streamable</span><span class="hl-0"> &lt;</span><span class="hl-6">T</span><span class="hl-0">&gt; </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">Collection</span><span class="hl-0"> &lt;</span><span class="hl-6">T</span><span class="hl-0">&gt;, </span><span class="hl-6">SearchableStream</span><span class="hl-0"> &lt;</span><span class="hl-6">T</span><span class="hl-0">&gt; {}</span>
</code></pre>
<p>Con esta interfaz creada, el siguiente paso será crear una clase abstracta que defina este tipo de colecciones de contenido:</p>
<p>BasicStreamableCollection implementa este tipo de colecciones y se basa en una lista del objeto <code>T</code> y diferentes métodos para añadir, obtener, eliminar y buscar elementos. Los métodos de búsqueda se implementan como métodos abstractos para que cada subclase las defina según sus necesidades.</p>
<p>A continuación, he definido otro tipo de clase abstracta que será la que definirá estos contenidos audiovisuales. Se compone por un nombre, un autor, un año de estreno, un género y una descripción del contenido.</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">abstract</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Audiovisual</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">name</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">author</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">year</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">genre</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">description</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  (...)</span><br/><span class="hl-0">}</span>
</code></pre>
<p>El siguiente paso será definir las particularidades que tendrán los contenidos audiovisuales.
Los documentales tendrán una duración, las películas, una duración y una valoración en estrellas, y las series tendrán un número de temporadas y un número de episodios.</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Documental</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">Audiovisual</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">duration</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  (...)</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Film</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">Audiovisual</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">duration</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">stars</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  (...)</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Serie</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">Audiovisual</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">seasons</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">private</span><span class="hl-0"> </span><span class="hl-1">episodes</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><br/><span class="hl-0">    (...)</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Estas clases tendrán getters extra para obtener estos datos.</p>
<p>El último paso, será definir las diferentes colecciones que contendrán los contenidos audiovisuales poniendo especial atención a estos datos que son únicos para cada tipo de contenido.</p>
<p>Asimismo, todas deberán definir los métodos que marcamos como abstractos en <code>BasicStreamableCollection</code> para que cada subclase las defina según sus necesidades.</p>
<p>Pongamos como ejemplo una colección de documentales.</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-0"> { </span><span class="hl-1">BasicStreamableCollection</span><span class="hl-0"> } </span><span class="hl-4">from</span><span class="hl-0"> </span><span class="hl-8">&#39;./BasicStreamableCollection&#39;</span><span class="hl-0">;</span><br/><span class="hl-4">import</span><span class="hl-0"> { </span><span class="hl-1">Documental</span><span class="hl-0"> } </span><span class="hl-4">from</span><span class="hl-0"> </span><span class="hl-8">&#39;./audiovisual&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">export</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">DocumentalsCollection</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">BasicStreamableCollection</span><span class="hl-0">&lt;</span><span class="hl-6">Documental</span><span class="hl-0">&gt; {</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">searchByName</span><span class="hl-0">(</span><span class="hl-1">name</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">): </span><span class="hl-6">Documental</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getName</span><span class="hl-0">() === </span><span class="hl-1">name</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">searchByYear</span><span class="hl-0">(</span><span class="hl-1">year</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">): </span><span class="hl-6">Documental</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getYear</span><span class="hl-0">() === </span><span class="hl-1">year</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">searchByGenre</span><span class="hl-0">(</span><span class="hl-1">genre</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0">): </span><span class="hl-6">Documental</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getGenre</span><span class="hl-0">() === </span><span class="hl-1">genre</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">searchByDuration</span><span class="hl-0">(</span><span class="hl-1">duration</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">): </span><span class="hl-6">Documental</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getDuration</span><span class="hl-0">() === </span><span class="hl-1">duration</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Esto deberemos repetirlo para las películas y las series, añadiendo métodos como <code>searchByStars</code>, <code>searchBySeasons</code> y <code>searchByEpisodes</code>.</p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">searchByStars</span><span class="hl-0">(</span><span class="hl-1">stars</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">): </span><span class="hl-1">Film</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getStars</span><span class="hl-0">() === </span><span class="hl-1">stars</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span>
</code></pre>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">searchBySeasons</span><span class="hl-0">(</span><span class="hl-1">seasons</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">): </span><span class="hl-1">Serie</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getSeasons</span><span class="hl-0">() === </span><span class="hl-1">seasons</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">searchByEpisodes</span><span class="hl-0">(</span><span class="hl-1">episodes</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">): </span><span class="hl-1">Serie</span><span class="hl-0">[] {</span><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">items</span><span class="hl-0">.</span><span class="hl-7">filter</span><span class="hl-0">((</span><span class="hl-1">item</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">item</span><span class="hl-0">.</span><span class="hl-7">getEpisodes</span><span class="hl-0">() === </span><span class="hl-1">episodes</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span>
</code></pre>

<a href="#ejercicio-3---el-cifrado-indescifrable" id="ejercicio-3---el-cifrado-indescifrable" style="color: inherit; text-decoration: none;">
  <h2>Ejercicio 3 - El cifrado indescifrable</h2>
</a>
<p>Para este ejercicio se nos propone una clase que nos permita cifrar y descifrar un texto mediante una variante del cifrado César, la cuál nos permite introducir una clave que será la que determine cuantas posiciones debe moverse cada letra del texto.</p>
<p>Este cifrado es conocido como cifrado Vigenere y se puede entender mas sencillamente de la siguiente manera:</p>
<p>texto a cifrar
||||| | ||||||
clave c lavecl
||||| | ||||||
vpxps c nibvcd</p>
<p>En este caso, la <code>c</code> nos determina un movimiento de 2 posiciones, por tanto, la letra <code>t</code> se convertirá en una <code>v</code> y así sucesivamente.</p>
<p>para nuestra clase, en el constructor vamos a permitir que el usuario introduzca el texto a cifrar/descifrar, la clave, y en caso de que quiera usar su propio alfabeto, también podrá introducirlo. Si no introduce ninguno, se usará el alfabeto por defecto.</p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-7">constructor</span><span class="hl-0">(</span><span class="hl-1">texto</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">, </span><span class="hl-1">clave</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">, </span><span class="hl-1">alfabeto</span><span class="hl-0">?: </span><span class="hl-1">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0"> = </span><span class="hl-1">texto</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_clave</span><span class="hl-0"> = </span><span class="hl-1">clave</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0"> = </span><span class="hl-1">alfabeto</span><span class="hl-0"> || </span><span class="hl-8">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>A la hora de cifrar, nos serviremos de la función indexOf para obtener la posición de la letra en el alfabeto, si no está en el alfabeto, nos devolverá -1, pero si está, nos devolverá la posición en la que se encuentra. Con esta posición, podremos sumársela a la posición de la letra de la clave que corresponda y lo agregaremos al texto descifrado.</p>
<p>En caso de que no se encuentre un valor del texto, simplemente no se cifrará esa letra.</p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">cifrar</span><span class="hl-0">(): </span><span class="hl-1">string</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">textoCifrado</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0"> = </span><span class="hl-8">&#39;&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">clave</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-2">0</span><span class="hl-0">;</span><br/><br/><span class="hl-0">    </span><span class="hl-4">for</span><span class="hl-0"> (</span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">i</span><span class="hl-0"> = </span><span class="hl-2">0</span><span class="hl-0">; </span><span class="hl-1">i</span><span class="hl-0"> &lt; </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">; </span><span class="hl-1">i</span><span class="hl-0">++) {</span><br/><span class="hl-0">      </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-3">posicion</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-7">indexOf</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0">]);</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">posicion</span><span class="hl-0"> !== -</span><span class="hl-2">1</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">clave</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-7">indexOf</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_clave</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0"> % </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_clave</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">]);</span><br/><span class="hl-0">        </span><span class="hl-1">textoCifrado</span><span class="hl-0"> += </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">[(</span><span class="hl-1">posicion</span><span class="hl-0"> + </span><span class="hl-1">clave</span><span class="hl-0">) %</span><br/><span class="hl-0">            </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">];</span><br/><span class="hl-0">      } </span><span class="hl-4">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">textoCifrado</span><span class="hl-0"> += </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0">];</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-1">textoCifrado</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Para descifrar el proceso es idéntico, salvo que en vez de sumar la posición de la letra de la clave, restamos la posición de la letra de la clave.</p>
<pre><code class="language-typescript"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-7">descifrar</span><span class="hl-0">(): </span><span class="hl-1">string</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">textoDescifrado</span><span class="hl-0">: </span><span class="hl-6">string</span><span class="hl-0"> = </span><span class="hl-8">&#39;&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">clave</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-2">0</span><span class="hl-0">;</span><br/><br/><span class="hl-0">    </span><span class="hl-4">for</span><span class="hl-0"> (</span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">i</span><span class="hl-0"> = </span><span class="hl-2">0</span><span class="hl-0">; </span><span class="hl-1">i</span><span class="hl-0"> &lt; </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">; </span><span class="hl-1">i</span><span class="hl-0">++) {</span><br/><span class="hl-0">      </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-3">posicion</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-7">indexOf</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0">]);</span><br/><span class="hl-0">      </span><span class="hl-4">if</span><span class="hl-0"> (</span><span class="hl-1">posicion</span><span class="hl-0"> !== -</span><span class="hl-2">1</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">clave</span><span class="hl-0"> = </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-7">indexOf</span><span class="hl-0">(</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_clave</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0"> % </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_clave</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">]);</span><br/><span class="hl-0">        </span><span class="hl-1">textoDescifrado</span><span class="hl-0"> += </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">[(</span><span class="hl-1">posicion</span><span class="hl-0"> - </span><span class="hl-1">clave</span><span class="hl-0"> +</span><br/><span class="hl-0">            </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">) % </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_alfabeto</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">];</span><br/><span class="hl-0">      } </span><span class="hl-4">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">textoDescifrado</span><span class="hl-0"> += </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">_texto</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0">];</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-4">return</span><span class="hl-0"> </span><span class="hl-1">textoDescifrado</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span>
</code></pre>

<a href="#conclusión" id="conclusión" style="color: inherit; text-decoration: none;">
  <h1>Conclusión</h1>
</a>
<p>Estos ejercicios nos ayudan bastante a entendernos con las clases e interfaces genéricas. El primero se baso sobretodo en el uso de clases, clases genéricas y herencia, el segundo en el uso de las interfaces genéricas.</p>
<p>El uso de Istanbull ha sido realmente útil para comprobar que todos los detalles de nuestro código están siendo testeados, pero hay un detalle, y es que en casos como el ejercicio 01, cuando hay multiples comprobaciones de un dato, como en el calculo de la efectividad, debes testear todas las posibles combinaciones, cuando son una réplica de las anteriores.</p>
<p>Sin embargo, aunque llega a ser tedioso en ciertos puntos en los que esto sucede, es realmente útil para que no se nos pase ningún detalle ni ninguna rama sin testear.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_01_Combat.html">Ejercicio-<wbr/>01/<wbr/>Combat</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_01_Fighter.html">Ejercicio-<wbr/>01/<wbr/>Fighter</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_01_Pokedex.html">Ejercicio-<wbr/>01/<wbr/>Pokedex</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_01_Pokemon.html">Ejercicio-<wbr/>01/<wbr/>Pokemon</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_01_SAO.html">Ejercicio-<wbr/>01/SAO</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_01_Saiyan.html">Ejercicio-<wbr/>01/<wbr/>Saiyan</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_02_BasicStreamableCollection.html">Ejercicio-<wbr/>02/<wbr/>Basic<wbr/>Streamable<wbr/>Collection</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_02_DocumentalsCollection.html">Ejercicio-<wbr/>02/<wbr/>Documentals<wbr/>Collection</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_02_FilmsCollection.html">Ejercicio-<wbr/>02/<wbr/>Films<wbr/>Collection</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_02_SeriesCollection.html">Ejercicio-<wbr/>02/<wbr/>Series<wbr/>Collection</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_02_Streamable.html">Ejercicio-<wbr/>02/<wbr/>Streamable</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_02_audiovisual.html">Ejercicio-<wbr/>02/audiovisual</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_03_Cifrado.html">Ejercicio-<wbr/>03/<wbr/>Cifrado</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_04_Collectable.html">Ejercicio-<wbr/>04/<wbr/>Collectable</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_04_NumericSearchableCollection.html">Ejercicio-<wbr/>04/<wbr/>Numeric<wbr/>Searchable<wbr/>Collection</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_04_Searchable.html">Ejercicio-<wbr/>04/<wbr/>Searchable</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_04_SearchableCollection.html">Ejercicio-<wbr/>04/<wbr/>Searchable<wbr/>Collection</a></li><li class=" tsd-kind-module"><a href="modules/Ejercicio_04_StringSearchableCollection.html">Ejercicio-<wbr/>04/<wbr/>String<wbr/>Searchable<wbr/>Collection</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>